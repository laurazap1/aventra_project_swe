{"version":3,"sources":["authController.js"],"names":["bcrypt","require","User","exports","register","req","res","_req$body","name","email","password","hashedPassword","newUser","regeneratorRuntime","async","_context","prev","next","body","awrap","findOne","sent","abrupt","status","json","message","hash","save","t0","console","error","stop","login","_req$body2","user","_context2","compare"],"mappings":"aAAA,IAAMA,OAASC,QAAQ,YACjBC,KAAOD,QAAQ,kBAArBE,QAAUC,SAAW,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAC,KAAA,EAAAT,EAKiBF,EAAIa,KAA9BV,EALSD,EAKTC,KAAMC,EALGF,EAKHE,MAAOC,EALJH,EAKIG,SALJK,EAAAE,KAAA,EAAAJ,mBAAAM,MAGFjB,KAAAkB,QAAA,CAAAX,MAAAA,KAHE,KAAA,EAAA,GAAAM,EAAAM,KAAA,OAAAN,EAAAO,OAAA,SAGFhB,EAAAiB,OAAA,KAAAC,KAAA,CAAAC,QAAA,yBAHEV,EAAAE,KAAA,EAAA,MAAA,KAAA,EAAA,OAAAF,EAAAE,KAAA,EAAAJ,mBAAAM,MAGFnB,OAAA0B,KAAAhB,EAAA,KAHE,KAAA,EAAA,OAGFC,EAHEI,EAAAM,KAGFT,EAAA,IAAAV,KAAA,CAAAM,KAAAA,EAAAC,MAAAA,EAAAC,SAAAC,IAHEI,EAAAE,KAAA,GAAAJ,mBAAAM,MAGFP,EAAAe,QAHE,KAAA,GAGFrB,EAAAiB,OAAA,KAAAC,KAAA,CAAAC,QAAA,kCAHEV,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,MAAA,GAOuBc,QAJzBC,MAAA,kBAIyBf,EAAAa,IAYxCtB,EAAIiB,OAAO,KAAKC,KAAK,CAAEC,QAAS,qCAnBf,KAAA,GAAA,IAAA,MAAA,OAAAV,EAAAgB,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OAGF5B,QAAA6B,MAAA,SAAA3B,EAAAC,GAAA,IAAA2B,EAAAxB,EAAAC,EAAAwB,EAAA,OAAArB,mBAAAC,MAAA,SAAAqB,GAAA,OAAA,OAAAA,EAAAnB,KAAAmB,EAAAlB,MAAA,KAAA,EAAA,OAAAkB,EAAAnB,KAAA,EAAAiB,EAAA5B,EAAAa,KAAAT,EAAAwB,EAAAxB,MAAAC,EAAAuB,EAAAvB,SAAAyB,EAAAlB,KAAA,EAAAJ,mBAAAM,MAAAjB,KAAAkB,QAAA,CAAAX,MAAAA,KAAA,KAAA,EAAA,GAAAyB,EAAAC,EAAAd,KAAA,CAAAc,EAAAlB,KAAA,EAAA,MAAA,OAAAkB,EAAAb,OAAA,SAAAhB,EAAAiB,OAAA,KAAAC,KAAA,CAAAC,QAAA,oBAAA,KAAA,EAAA,OAAAU,EAAAlB,KAAA,EAAAJ,mBAAAM,MAAAnB,OAAAoC,QAAA1B,EAAAwB,EAAAxB,WAAA,KAAA,EAAA,GAAAyB,EAAAd,KAAA,CAAAc,EAAAlB,KAAA,GAAA,MAAA,OAAAkB,EAAAb,OAAA,SAgCNhB,EAAIiB,OAAO,KAAKC,KAAK,CAAEC,QAAS,sBAhC1B,KAAA,GAUTb,EAAAA,OAAAA,KAAUY,KAAItB,CAAOM,QAAAA,mBAAMC,KAAAA,CAAAA,KAAAA,EAARD,KAAAC,MAAAyB,EAAAzB,SAVV0B,EAAAlB,KAAA,GAAA,MAAA,KAAA,GAAAkB,EAAAnB,KAAA,GAAAmB,EAAAP,GAAAO,EAAA,MAAA,GAAAN,QAAAC,MAAA,eAAAK,EAAAP,IAAAtB,EAAAiB,OAAA,KAAAC,KAAA,CAAAC,QAAA,8BAAA,KAAA,GAAA,IAAA,MAAA,OAAAU,EAAAJ,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA","file":"authController.min.js","sourcesContent":["const bcrypt = require(\"bcryptjs\");\nconst User = require(\"../models/User\");\n\n// REGISTER\nexports.register = async (req, res) => {\n  try {\n    const { name, email, password } = req.body;\n\n    const existingUser = await User.findOne({ email });\n    if (existingUser) {\n      return res.status(400).json({ message: \"User already exists\" });\n    }\n\n    const hashedPassword = await bcrypt.hash(password, 10);\n    const newUser = new User({ name, email, password: hashedPassword });\n    await newUser.save();\n\n    res.status(201).json({ message: \"User registered successfully!\" });\n  } catch (err) {\n    console.error(\"Register error:\", err);\n    res.status(500).json({ message: \"Server error during registration\" });\n  }\n};\n\n// LOGIN\nexports.login = async (req, res) => {\n  try {\n    const { email, password } = req.body;\n\n    const user = await User.findOne({ email });\n    if (!user) {\n      return res.status(400).json({ message: \"User not found\" });\n    }\n\n    const isPasswordValid = await bcrypt.compare(password, user.password);\n    if (!isPasswordValid) {\n      return res.status(400).json({ message: \"Invalid password\" });\n    }\n\n    res.status(200).json({\n      message: \"Login successful\",\n      user: { name: user.name, email: user.email },\n    });\n  } catch (err) {\n    console.error(\"Login error:\", err);\n    res.status(500).json({ message: \"Server error during login\" });\n  }\n};\n"]}