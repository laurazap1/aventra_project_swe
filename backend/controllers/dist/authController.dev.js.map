{"version":3,"sources":["authController.js"],"names":["bcrypt","require","User","exports","register","req","res","body","name","email","password","findOne","existingUser","status","json","message","hash","hashedPassword","newUser","save","console","error","login","user","compare","isPasswordValid"],"mappings":"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","sourcesContent":["const bcrypt = require(\"bcryptjs\");\nconst User = require(\"../models/User\");\n\n// REGISTER\nexports.register = async (req, res) => {\n  try {\n    const { name, email, password } = req.body;\n\n    const existingUser = await User.findOne({ email });\n    if (existingUser) {\n      return res.status(400).json({ message: \"User already exists\" });\n    }\n\n    const hashedPassword = await bcrypt.hash(password, 10);\n    const newUser = new User({ name, email, password: hashedPassword });\n    await newUser.save();\n\n    res.status(201).json({ message: \"User registered successfully!\" });\n  } catch (err) {\n    console.error(\"Register error:\", err);\n    res.status(500).json({ message: \"Server error during registration\" });\n  }\n};\n\n// LOGIN\nexports.login = async (req, res) => {\n  try {\n    const { email, password } = req.body;\n\n    const user = await User.findOne({ email });\n    if (!user) {\n      return res.status(400).json({ message: \"User not found\" });\n    }\n\n    const isPasswordValid = await bcrypt.compare(password, user.password);\n    if (!isPasswordValid) {\n      return res.status(400).json({ message: \"Invalid password\" });\n    }\n\n    res.status(200).json({\n      message: \"Login successful\",\n      user: { name: user.name, email: user.email },\n    });\n  } catch (err) {\n    console.error(\"Login error:\", err);\n    res.status(500).json({ message: \"Server error during login\" });\n  }\n};\n"],"file":"authController.dev.js"}